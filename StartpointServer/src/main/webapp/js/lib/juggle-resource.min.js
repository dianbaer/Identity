!function(t){t.juggle||(t.juggle={}),t.juggle.resourceEventType=new function(){this.LOAD_COMPLETE="loadComplete",this.LOAD_FAIL="loadFail"}}(window),function(t){t.juggle||(t.juggle={});var e=t.juggle.EventDispatcher,i=t.juggle.HttpClient,s=t.juggle.httpEventType,a=t.juggle.resourceEventType;t.juggle.Loader=function(t,r){this.loadSuccess=function(t){this.resultArray[t.mTarget.url]=t.mData,++this.successNum+this.failNum===this.loadList.length&&(this.failNum>0?this.dispatchEventWith(a.LOAD_FAIL):this.dispatchEventWith(a.LOAD_COMPLETE))},this.loadError=function(t){this.failNum++,this.successNum+this.failNum===this.loadList.length&&this.dispatchEventWith(a.LOAD_FAIL)},this.loadList=t,this.resultArray=[],this.successNum=0,this.failNum=0,this.data=r,e.apply(this);for(var l=0;l<this.loadList.length;l++){var o=new i;o.send(null,this.loadList[l]),o.addEventListener(s.SUCCESS,this.loadSuccess,this),o.addEventListener(s.ERROR,this.loadError,this)}}}(window),function(t){t.juggle||(t.juggle={});var e=t.juggle.Loader,i=t.juggle.resourceEventType;t.juggle.resourceManager=new function(){this.resource=[],this.loadResource=function(t,s,a,r){var l=new e(t,[s,a,r]);l.addEventListener(i.LOAD_COMPLETE,this.loadComplete,this),l.addEventListener(i.LOAD_FAIL,this.loadFail,this)},this.loadComplete=function(t){t.mTarget.removeEventListener(i.LOAD_COMPLETE,this.loadComplete),t.mTarget.removeEventListener(i.LOAD_FAIL,this.loadComplete);for(var e=0;e<t.mTarget.loadList.length;e++){var s=t.mTarget.loadList[e];this.resource[s]=t.mTarget.resultArray[s]}t.mTarget.data[0].call(t.mTarget.data[2],t.mTarget.loadList)},this.loadFail=function(t){t.mTarget.removeEventListener(i.LOAD_COMPLETE,this.loadComplete),t.mTarget.removeEventListener(i.LOAD_FAIL,this.loadComplete),t.mTarget.data[1].call(t.mTarget.data[1],t.mTarget.loadList)},this.getResource=function(t){return this.resource[t]}}}(window);